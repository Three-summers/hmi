/* ═══ Setup / 设置视图样式 ═══ */

/* ═══ 布局结构：双列卡片 ═══ */
.setupGrid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--sp-md);
}

/* ═══ 设置卡片 ═══ */
.section {
    padding: var(--card-padding);
    background: var(--card-bg);
    border-radius: var(--card-radius);
    border: 1px solid var(--card-border);
}

/* 卡片头：图标 + 标题 + 描述 */
.sectionHeader {
    display: flex;
    align-items: center;
    gap: calc(var(--sp-sm) + var(--sp-xs));
    margin-bottom: var(--sp-md);
    padding-bottom: calc(var(--sp-sm) + var(--sp-xs));
    border-bottom: 1px solid var(--border-color);
}

.sectionIcon {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--overlay-weak);
    border: 1px solid var(--border-color);
    color: var(--color-processing);
}

.sectionIcon svg {
    width: 20px;
    height: 20px;
}

.sectionTitle {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
}

.sectionDesc {
    font-size: 12px;
    color: var(--text-secondary);
    margin: var(--sp-xs) 0 0 0;
}

/* ═══ 选项按钮组 ═══ */
.optionRow {
    display: flex;
    gap: var(--sp-sm);
    flex-wrap: wrap;
}

.optionButton {
    display: flex;
    align-items: center;
    gap: var(--sp-sm);
    padding: calc(var(--sp-sm) + var(--sp-xs)) var(--sp-md);
    background: linear-gradient(
        180deg,
        var(--button-bg) 0%,
        var(--button-bg-active) 100%
    );
    border: 1px solid var(--border-color);
    border-radius: var(--button-radius);
    color: var(--text-primary);
    font-size: 14px;
    cursor: pointer;
    transition: all var(--transition-fast);
    min-width: 120px;
}

.optionButton:hover {
    background: linear-gradient(
        180deg,
        var(--button-bg-hover) 0%,
        var(--button-bg) 100%
    );
    border-color: var(--color-processing);
}

.optionButton[data-selected="true"] {
    background: var(--button-primary-bg);
    border-color: var(--button-primary-border);
    color: var(--text-on-accent);
}

.optionIcon {
    width: 24px;
    height: 24px;
}

.optionIcon svg {
    width: 100%;
    height: 100%;
}

/* ═══ 表单字段 ═══ */
.formGroup {
    margin-bottom: calc(var(--sp-sm) + var(--sp-xs));
}

.formLabel {
    display: block;
    font-size: 12px;
    font-weight: 500;
    color: var(--text-secondary);
    margin-bottom: var(--sp-xs);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.formRow {
    display: flex;
    gap: calc(var(--sp-sm) + var(--sp-xs));
    align-items: center;
}

.select,
.input {
    flex: 1;
    width: 100%;
}

.select {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    /* 自绘下拉箭头：避免引入额外 icon 资源，保持主题一致 */
    background-image:
        linear-gradient(45deg, transparent 50%, var(--text-secondary) 50%),
        linear-gradient(135deg, var(--text-secondary) 50%, transparent 50%);
    background-repeat: no-repeat;
    background-position:
        calc(100% - var(--sp-md)) 50%,
        calc(100% - var(--sp-md) + var(--sp-xs)) 50%;
    background-size:
        var(--sp-xs) var(--sp-xs),
        var(--sp-xs) var(--sp-xs);
    padding-right: calc(var(--sp-xl) + var(--sp-xs));
    cursor: pointer;
}

.select:disabled,
.input:disabled {
    background: var(--button-bg-disabled);
    color: var(--text-disabled);
    cursor: not-allowed;
    opacity: 0.7;
}

/* ═══ 下拉选项（option） ═══ */
.select option {
    background: var(--bg-panel);
    color: var(--text-primary);
    padding: var(--sp-sm);
}

.select option:hover,
.select option:focus,
.select option:checked {
    background: var(--overlay-mid);
    color: var(--text-primary);
}

/* ═══ 连接按钮 ═══ */
.connectButton {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--sp-sm);
    padding: calc(var(--sp-sm) + var(--sp-xs)) calc(var(--sp-md) + var(--sp-xs));
    background: linear-gradient(
        180deg,
        var(--button-bg) 0%,
        var(--button-bg-active) 100%
    );
    border: 1px solid var(--border-color);
    border-radius: calc(var(--button-radius) - var(--sp-xs));
    color: var(--text-primary);
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-fast);
    margin-top: var(--sp-md);
}

.connectButton:hover {
    background: linear-gradient(
        180deg,
        var(--button-bg-hover) 0%,
        var(--button-bg) 100%
    );
    border-color: var(--color-processing);
}

.connectButton[data-connected="true"] {
    background: var(--button-success-bg);
    border-color: var(--button-success-border);
    color: var(--text-on-attention);
}

.connectButton svg {
    width: 18px;
    height: 18px;
}

/* ═══ 连接状态指示 ═══ */
.statusIndicator {
    display: flex;
    align-items: center;
    gap: var(--sp-sm);
    padding: var(--sp-sm) calc(var(--sp-sm) + var(--sp-xs));
    background: var(--overlay-weak);
    border-radius: calc(var(--button-radius) - var(--sp-xs));
    margin-bottom: var(--sp-md);
}

.statusDot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: var(--color-alarm);
}

.statusDot[data-connected="true"] {
    background: var(--color-attention);
    box-shadow: 0 0 8px var(--color-attention);
}

.statusText {
    font-size: 13px;
    color: var(--text-secondary);
}

.statusText[data-connected="true"] {
    color: var(--color-attention);
}

/* ═══ 响应式调整 ═══ */
@media (max-width: 900px) {
    .setupGrid {
        grid-template-columns: 1fr;
    }
}
